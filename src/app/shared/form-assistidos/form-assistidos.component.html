<section class="container">
  <h3>Identificação do Assistido</h3>
  <form [formGroup]="formAssistidos">
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Nome</mat-label>
          <input matInput formControlName="nome">
          <mat-error *ngIf="formAssistidos.get('nome')?.errors?.['required']">Nome é
            obrigatório</mat-error>
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>E-mail</mat-label>
          <input matInput formControlName="email">
          <mat-error *ngIf="formAssistidos.get('email')?.errors?.['email']">Padrão de E-mail inválido</mat-error>
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>CPF</mat-label>
          <input matInput formControlName="cpf">
          <mat-error *ngIf="formAssistidos.get('cpf')?.errors?.['minlength']">CPF precisa ter no mínimo 11
            dígitos</mat-error>
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>RG</mat-label>
          <input matInput formControlName="rg">
          <mat-error *ngIf="formAssistidos.get('rg')?.errors?.['required']">RG é
            obrigatório</mat-error>
          <mat-error *ngIf="formAssistidos.get('rg')?.errors?.['minlength']">RG precisa ter no mínimo 8
            dígitos</mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Naturalidade</mat-label>
          <input matInput formControlName="naturalidade">
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Nacionalidade</mat-label>
          <input matInput formControlName="nacionalidade">
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Data de Nascimento</mat-label>
          <input matInput [matDatepicker]="dataNascimento" formControlName="dataNascimento">
          <mat-datepicker-toggle matIconSuffix [for]="dataNascimento" color="primary"></mat-datepicker-toggle>
          <mat-datepicker #dataNascimento></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Estado civil</mat-label>
          <mat-select matInput formControlName="estadoCivil">
            <mat-option *ngFor="let estado of estadosCivis" [value]="estado.valor">
              {{ estado.texto }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Telefone</mat-label>
          <input matInput formControlName="telefone">
          <mat-icon matSuffix>phone</mat-icon>
          <mat-error *ngIf="formAssistidos.get('telefone')?.errors?.['minlength']">Telefone precisa ter no mínimo 8
            dígitos</mat-error>
        </mat-form-field>
      </div>
    </div>
    <ng-container formGroupName="endereco">
      <div class="row">
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>CEP</mat-label>
            <input matInput formControlName="cep" (blur)="consultarCep()">
            <mat-error *ngIf="formAssistidos.get('endereco')?.get('cep')?.errors?.['minlength']">CEP precisa
              ter no mínimo 8
              dígitos</mat-error>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>Cidade</mat-label>
            <input matInput formControlName="cidade">
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>Logradouro</mat-label>
            <input matInput formControlName="logradouro">
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>Bairro</mat-label>
            <input matInput formControlName="bairro">
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>Número</mat-label>
            <input matInput formControlName="numero">
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>Complemento</mat-label>
            <input matInput formControlName="complemento">
          </mat-form-field>
        </div>
      </div>
    </ng-container>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Escolaridade</mat-label>
          <mat-select matInput formControlName="escolaridade">
            <mat-option *ngFor="let escolaridade of escolaridades" [value]="escolaridade.valor">
              {{ escolaridade.texto }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <ng-container formGroupName="filiacao">
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>Nome do pai</mat-label>
            <input matInput formControlName="pai">
            <mat-error *ngIf="formAssistidos.get('filiacao')?.get('pai')?.errors?.['required']">Nome do Pai é
              obrigatório</mat-error>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>Nome da mãe</mat-label>
            <input matInput formControlName="mae">
            <mat-error *ngIf="formAssistidos.get('filiacao')?.get('mae')?.errors?.['required']">Nome da Mãe é
              obrigatório</mat-error>
          </mat-form-field>
        </div>
      </ng-container>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Profissão</mat-label>
          <input matInput formControlName="profissao">
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Remuneração</mat-label>
          <input matInput formControlName="remuneracao">
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Cidade comercial</mat-label>
          <input matInput formControlName="cidadeComercial">
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Endereço comercial</mat-label>
          <input matInput formControlName="enderecoComercial">
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Nº de dependentes</mat-label>
          <input matInput formControlName="numDependentes">
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Tipo de Assistido</mat-label>
          <mat-select matInput formControlName="@type">
            <mat-option *ngFor="let tipo of tipoAssistido" [value]="tipo.valor">
              {{ tipo.texto }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="formAssistidos.get('@type')?.errors?.['required']">
            Tipo de assistido é obrigatório!
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="btn-group">
      <button type="button" *ngIf="editComponent === true" mat-flat-button class="btn" color="warn"
        (click)="excluir()">EXCLUIR</button>
      <button mat-flat-button type="reset" class="btn btn-basic">LIMPAR</button>
      <button mat-flat-button type="submit" (click)="executarAcao()" class="btn btn-basic"
        [disabled]="formAssistidos.invalid">SALVAR</button>
      <button mat-flat-button type="submit" (click)="executarAcao()" class="btn" color="primary"
        [disabled]="formAssistidos.invalid">SUBMETER</button>
    </div>
  </form>
</section>
